<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ObedKMV - –û–±–µ–¥—ã —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />

  <style>
    body {
      background: url('img/fon1.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Open Sans', Arial, sans-serif;
    }

    .tm-title {
      color: #0aa150;
      font-weight: 700;
    }

    .product-card {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      padding: 1rem;
      text-align: center;
    }

    .product-card img {
      max-width: 100%;
      height: auto;
      border-radius: 6px;
    }

    .cart-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }

    .modal-footer .btn {
      min-width: 100px;
    }

    footer {
      background-color: #f8f9fa;
      padding: 1rem 0;
      text-align: center;
      color: #666;
      border-top: 1px solid #ddd;
    }
  </style>
</head>

<body>
  <div class="container py-4">
    <header class="text-center mb-4">
      <h1 class="tm-title">–û–ë–ï–î–´ –° –î–û–°–¢–ê–í–ö–û–ô</h1>
      <p class="text-muted">–ü—è—Ç–∏–≥–æ—Ä—Å–∫, –ò–Ω–æ–∑–µ–º—Ü–µ–≤–æ</p>
    </header>

    <nav class="nav justify-content-center mb-5">
      <a class="nav-link active" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a class="nav-link" href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </nav>

    <button class="btn btn-success cart-btn" data-toggle="modal" data-target="#cartModal">
      üõí –ö–æ—Ä–∑–∏–Ω–∞ (<span id="cart-count">0</span>)
    </button>

    <div class="row" id="menu-container">
      <div class="col-md-4">
        <div class="product-card">
          <img src="img/borscht.jpg" alt="–ë–æ—Ä—â">
          <h5 class="mt-3">–ë–æ—Ä—â</h5>
          <p>250 ‚ÇΩ</p>
          <button class="btn btn-outline-success btn-block add-to-cart" data-name="–ë–æ—Ä—â" data-price="250">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>

      <div class="col-md-4">
        <div class="product-card">
          <img src="img/pelmeni.jpg" alt="–ü–µ–ª—å–º–µ–Ω–∏">
          <h5 class="mt-3">–ü–µ–ª—å–º–µ–Ω–∏</h5>
          <p>300 ‚ÇΩ</p>
          <button class="btn btn-outline-success btn-block add-to-cart" data-name="–ü–µ–ª—å–º–µ–Ω–∏" data-price="300">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>

      <div class="col-md-4">
        <div class="product-card">
          <img src="img/grechka.jpg" alt="–ì—Ä–µ—á–∫–∞ —Å –∫–æ—Ç–ª–µ—Ç–æ–π">
          <h5 class="mt-3">–ì—Ä–µ—á–∫–∞ —Å –∫–æ—Ç–ª–µ—Ç–æ–π</h5>
          <p>220 ‚ÇΩ</p>
          <button class="btn btn-outline-success btn-block add-to-cart" data-name="–ì—Ä–µ—á–∫–∞ —Å –∫–æ—Ç–ª–µ—Ç–æ–π" data-price="220">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-labelledby="cartModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" id="cart-items">
          <p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.</p>
        </div>
        <div class="modal-footer">
          <strong>–ò—Ç–æ–≥–æ: <span id="cart-total">0</span> ‚ÇΩ</strong>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
          <button type="button" class="btn btn-success" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <footer class="mt-5">
    –û–û–û ¬´–†–∏–∞–ª-–•–æ–±–±–∏¬ª, 357500, –†–æ—Å—Å–∏—è, –≥. –ü—è—Ç–∏–≥–æ—Ä—Å–∫, –ø—Ä. –ö–∞–ª–∏–Ω–∏–Ω–∞, 9<br />
    –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã ¬© ¬´–†–∏–∞–ª-–•–æ–±–±–∏¬ª 2005 - 2022
  </footer>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function updateCartDisplay() {
      const cartItems = $('#cart-items');
      const cartCount = $('#cart-count');
      const cartTotal = $('#cart-total');

      cartItems.empty();
      if (cart.length === 0) {
        cartItems.html('<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.</p>');
        cartCount.text('0');
        cartTotal.text('0');
        return;
      }

      let total = 0;
      let totalCount = 0;
      cart.forEach(item => {
        total += item.price * item.quantity;
        totalCount += item.quantity;
        cartItems.append(`
          <div class="d-flex justify-content-between align-items-center mb-2">
            <div>
              <strong>${item.name}</strong> (x${item.quantity})
            </div>
            <div>${item.price * item.quantity} ‚ÇΩ</div>
          </div>
        `);
      });

      cartCount.text(totalCount);
      cartTotal.text(total);
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function addToCart(name, price) {
      const existing = cart.find(item => item.name === name);
      if (existing) {
        existing.quantity++;
      } else {
        cart.push({ name, price: parseInt(price), quantity: 1 });
      }
      updateCartDisplay();
    }

    function checkout() {
      alert("–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑! –ú—ã —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.");
      cart = [];
      updateCartDisplay();
      $('#cartModal').modal('hide');
    }

    $(document).ready(function () {
      $('.add-to-cart').on('click', function () {
        const name = $(this).data('name');
        const price = $(this).data('price');
        addToCart(name, price);
      });

      updateCartDisplay();
    });
  </script>
</body>

</html>